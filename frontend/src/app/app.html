<div class="app-container">
  <!-- 
    - [isPdfChatActive] passes the chat state down to the header.
    - (chatModeChange) listens for the button click event from the header.
  -->
  <app-header 
    [isPdfChatActive]="!isAiChatActive"
    (chatModeChange)="switchToAiChat($event)">
  </app-header>

  <div class="main-layout">
    <!-- File Manager Sidebar -->
    <app-file-manager (categorySelected)="onCategorySelected($event)"></app-file-manager>

    <!-- Main Content Area -->
    <main class="content-area">
      <!-- PDF Chat View -->
      <ng-container *ngIf="!isAiChatActive">
        <app-pdf-chat></app-pdf-chat>
        <!-- The button and its container have been removed from here -->
      </ng-container>

      <!-- General AI Chat View -->
      <app-ai-chat *ngIf="isAiChatActive"></app-ai-chat>
      
    </main>
  </div>
</div>
